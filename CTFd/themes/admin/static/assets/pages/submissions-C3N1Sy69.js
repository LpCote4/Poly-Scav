import{$ as o,z as w,u as a,y as d,C as r}from"./main-BXf5-ByT.js";function g(e){console.log(e.childNodes);let s=e.childNodes[0];s.id.length<5e3?(e.removeChild(s),e.innerHTML=s.id):(s.src="data:text/plain;base64,"+atob(JSON.parse(e.childNodes[0].id)[0]),s.onclick=f)}function f(e){window.carouselPosition=0;let s=JSON.parse(e.srcElement.id);console.log(s),window.carouselMax=s.length;let i="<section class='slider-wrapper' ><img src onerror='reloadCarousel(this.parentElement);'><button class='slide-arrow slide-arrow-prev' id='slide-arrow-prev' onclick='downCarousel(this)' style='display:block;position:absolute;top:50%;'>&#8249;</button><button style='position:absolute;top:50%;left:95%' class='slide-arrow slide-arrow-next' id='slide-arrow-next' onclick='upCarousel(this)'>&#8250;</button><ul class='slides-container' style:'list-style: none;' id='slides-container'>";for(let t=0;t<s.length;t++)i+='<li class="slide '+t+'slide"><img style="" src="data:text/plain;base64,'+atob(s[t])+'" style="width: 100%;" height="auto"></li>';i+="</ul></section>",w({title:"Visioneurs",body:i,button:"retour"})}window.upCarousel=function(e){window.carouselPosition+=1,window.carouselPosition!=window.carouselMax-1?(window.reloadCarousel(e.parentElement),e.parentElement.getElementsByClassName("slide-arrow-prev")[0].disabled=!1):(window.reloadCarousel(e.parentElement),e.parentElement.getElementsByClassName("slide-arrow-next")[0].disabled=!0,e.parentElement.getElementsByClassName("slide-arrow-prev")[0].disabled=!1)};window.downCarousel=function(e){window.carouselPosition-=1,window.carouselPosition!=0?(window.reloadCarousel(e.parentElement),e.parentElement.getElementsByClassName("slide-arrow-next")[0].disabled=!1):(window.reloadCarousel(e.parentElement),e.parentElement.getElementsByClassName("slide-arrow-prev")[0].disabled=!0,e.parentElement.getElementsByClassName("slide-arrow-next")[0].disabled=!1)};window.reloadCarousel=function(e){window.carouselPosition==0&&(e.getElementsByClassName("slide-arrow-prev")[0].disabled=!0),window.carouselMax==1&&(e.getElementsByClassName("slide-arrow-next")[0].disabled=!0);for(let s=0;s<window.carouselMax;s++)s==window.carouselPosition?e.getElementsByClassName(s+"slide")[0].hidden=!1:e.getElementsByClassName(s+"slide")[0].hidden=!0};function p(e){const s=o(this).data("submission-id"),i=o(this).parent().parent(),t=i.find(".chal").text().trim(),l=i.find(".team").text().trim(),n=o(this).parent().parent();a({title:"Delete Submission",body:"Are you sure you want to delete correct submission from {0} for challenge {1}".format("<strong>"+d(l)+"</strong>","<strong>"+d(t)+"</strong>"),success:function(){r.api.delete_submission({submissionId:s}).then(function(m){m.success&&n.remove()})}})}function b(e){let s=o("input[data-submission-id]:checked").map(function(){return o(this).data("submission-id")}),i=s.length===1?"submission":"submissions";a({title:"Delete Submissions",body:`Are you sure you want to delete ${s.length} ${i}?`,success:function(){const t=[];for(var l of s)t.push(r.api.delete_submission({submissionId:l}));Promise.all(t).then(n=>{window.location.reload()})}})}function h(e){let s=o("input[data-submission-id]:checked").map(function(){return o(this).data("submission-id")}),i=s.length===1?"submission":"submissions";a({title:"Correct Submissions",body:`Are you sure you want to mark ${s.length} ${i} correct?`,success:function(){const t=[];for(var l of s){let n=r.fetch(`/api/v1/submissions/${l}`,{method:"PATCH",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({type:"correct"})});t.push(n)}Promise.all(t).then(n=>{window.location.reload()})}})}function c(e){const s=new URLSearchParams(window.location.search);s.has("full")?s.delete("full"):s.set("full","true"),window.location.href=`${window.location.pathname}?${s.toString()}`}function y(e){let s=o(e.currentTarget),i=s.find("i"),t=s.parent().find("pre");t.hasClass("full-flag")?(t.text(t.attr("title").substring(0,42)+"..."),t.removeClass("full-flag"),i.addClass("fa-eye"),i.removeClass("fa-eye-slash")):(t.text(t.attr("title")),t.addClass("full-flag"),i.addClass("fa-eye-slash"),i.removeClass("fa-eye"))}function C(e){let t=o(e.currentTarget).parent().find("pre").attr("title");navigator.clipboard.writeText(t),o(e.currentTarget).tooltip({title:"Copied!",trigger:"manual"}),o(e.currentTarget).tooltip("show"),setTimeout(function(){o(e.currentTarget).tooltip("hide")},1500)}o(()=>{o("#show-full-flags-button").click(c),o("#show-short-flags-button").click(c),o(".show-flag").click(y),o(".copy-flag").click(C),o("#correct-flags-button").click(h),o(".delete-correct-submission").click(p),o("#submission-delete-button").click(b)});let u=document.getElementsByClassName("imageContainer");for(let e=0;e<u.length;e++)g(u[e]);
