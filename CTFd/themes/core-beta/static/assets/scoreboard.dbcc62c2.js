import{m as i,C as n}from"./index.e8c2f12f.js";import{g as w,e as r,a as g}from"./index.4b5ee24d.js";import"./echarts.54e741c1.js";import{a as m}from"./ezq.e4140786.js";window.Alpine=i;window.CTFd=n;window.ScoreboardDetail=0;window.standings=0;window.scoreboardListLoaded=!1;window.allImages=[];window.maxCount=0;window.maxCountIncrease=1;window.imageInit=!1;i.data("ScoreboardDetail",()=>({data:{},show:!0,async init(){window.standings=await n.pages.scoreboard.getScoreboard(),window.ScoreboardDetail=await n.pages.scoreboard.getScoreboardDetail(window.standings.length),console.log(window.ScoreboardDetail),console.log(window.standings);let a=w(n.config.userMode,window.standings);var s=document.getElementById("score-graph");r(s,a),this.show=window.standings.length>0}}));i.data("ScoreboardList",()=>({standings:[],brackets:[],activeBracket:null,async init(){const s=await(await n.fetch(`/api/v1/brackets?type=${n.config.userMode}`,{method:"GET"})).json();this.brackets=s.data;const e=await(await n.fetch("/api/v1/challenges",{method:"GET"})).json();console.log(e);let t={};for(let o=0;o<e.data.length;o++)t[e.data[o].id]=e.data[o].name;let l=g(window.ScoreboardDetail,window.standings,t);for(let o=0;o<l.length;o++)this.standings[o]=l[o]}}));i.data("LogImage",()=>({async init(){window.allImages.push(this.id),console.log(window.allImages),window.allImages.length>window.maxCount&&(document.getElementById(this.id).hidden=!0),window.allImages.length==window.maxCountIncrease&&(window.imageInit||(console.log(window.imageInit),window.imageInit=!0,self.show10More()))}}));globalThis.show10More=async function(){let a=[];for(let e=window.maxCount;e<window.maxCount+window.maxCountIncrease;e++)a.push(window.allImages[e]),document.getElementById(window.allImages[e]).hidden=!1;const d=await(await n.fetch("/api/v1/teams?ids="+JSON.stringify(a),{method:"GET"})).json();console.log(d);for(let e=0;e<window.maxCountIncrease;e++){document.createElement("img");let t="data:text/plain;base64,"+atob(d.data[e].provided);t.length<5e3?document.getElementById(window.allImages[e+window.maxCount]).querySelector("#img").hidden=!0:(document.getElementById(window.allImages[e+window.maxCount]).querySelector("#img").src=t,document.getElementById(window.allImages[e+window.maxCount]).querySelector("#img").onclick=showLargeSubmissions)}window.maxCount+=window.maxCountIncrease};globalThis.showLargeSubmissions=function(a){console.log(a.srcElement),m({title:"Visioneurs",body:'<img src="'+a.srcElement.src+'" style="width: 100%;" height="auto">',button:"retour"})};i.start();
