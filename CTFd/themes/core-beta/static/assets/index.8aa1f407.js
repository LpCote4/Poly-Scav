import{d as c}from"./index.5095421b.js";import{u as x,i as y,a as p,b,c as _,d as $,e as v,f as S,g as k,h as A,j,k as I,l as L,m as T}from"./echarts.54e741c1.js";function z(n){let a=n.concat();for(let l=0;l<n.length;l++)a[l]=n.slice(0,l+1).reduce(function(i,e){return i+e});return a}function D(n,a){let l={title:{left:"center",text:(n==="teams"?"Teams":"Users")+" Score"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{type:"scroll",orient:"horizontal",align:"left",bottom:35,data:[]},toolbox:{feature:{dataZoom:{yAxisIndex:"none"},saveAsImage:{}}},grid:{containLabel:!0},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[]};const i=Object.keys(a);console.log("teams"),console.log(a);let e=[];for(let o=0;o<i.length;o++){const u=a[i[o]].name,m=a[i[o]].score,r=a[i[o]].score+a[i[o]].potential_score,f=a[i[o]].color;e.push(u),l.series.push({name:`${u} Score`,type:"bar",data:[m],itemStyle:{color:f},xAxisIndex:0}),l.series.push({name:`${u} Potential Score`,type:"bar",data:[r],itemStyle:{color:f,opacity:.5},xAxisIndex:1})}return l.xAxis.data=e,l}function M(n,a,l){const i=Object.keys(n);let e=[],o=999;for(let u=0;u<(i.length>=o?o:i.length);u++){let m=n[i[u]].solves,r=n[i[u]].fails,f=O(a[u].members);for(let t=0;t<m.length;t++){let g=m[t].date;m[t].team_name=n[i[u]].name,m[t].user_name=f[m[t].user_id],m[t].challenge_name=l[m[t].challenge_id],m[t].time=d(g);for(let s=e.length;s>0;s--)if(c(g)>c(e[s-1].date)){let h=e[s-1];e[s-1]=m[t],s<o&&(e[s]=h)}else if(e.length<o&&e.length==s){e.push(m[t]);break}else break;e.length==0&&e.push(m[t])}for(let t=0;t<r.length;t++)if(r[t].type=="manual"){let g=r[t].date;r[t].team_name=n[i[u]].name,r[t].user_name=f[r[t].user_id],r[t].challenge_name=l[r[t].challenge_id],r[t].time=d(g);for(let s=e.length;s>0;s--)if(c(g)>c(e[s-1].date)){let h=e[s-1];e[s-1]=r[t],s<o&&(e[s]=h)}else if(e.length<o&&e.length==s){e.push(r[t]);break}else break;e.length==0&&e.push(r[t])}}return e}function d(n){let a=c()-c(n);return a/(1e3*60*60*24)>=2?"il y a "+Math.floor(a/(1e3*60*60*24))+" jours":a/(1e3*60*60)>=2?"il y a "+Math.floor(a/(1e3*60*60))+" heures":a/(1e3*60)>=2?"il y a "+Math.floor(a/(1e3*60))+" minutes":"il y a moin de 2 minutes"}function O(n){let a={};for(let l=0;l<n.length;l++)a[n[l].id]=n[l].name;return a}x([y,p,b,_,$,v,S,k,A,j,I,L]);function N(n,a){let l=T(n);l.setOption(a),window.addEventListener("resize",()=>{l&&l.resize()})}export{M as a,z as c,N as e,D as g};
