import{d as f}from"./index.de5afc43.js";import{u as g,i as h,a as p,b as x,c as y,d as b,e as $,f as v,g as A,h as j,j as k,k as I,l as L,m as T}from"./echarts.54e741c1.js";function U(l){let e=l.concat();for(let t=0;t<l.length;t++)e[t]=l.slice(0,t+1).reduce(function(n,a){return n+a});return e}function w(l,e){let t={title:{left:"center",text:(l==="teams"?"Teams":"Users")+" Score"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{type:"scroll",orient:"horizontal",align:"left",bottom:35,data:[]},toolbox:{feature:{dataZoom:{yAxisIndex:"none"},saveAsImage:{}}},grid:{containLabel:!0},xAxis:{type:"category"},yAxis:{type:"value"},dataZoom:[{id:"dataZoomX",type:"slider",xAxisIndex:[0],filterMode:"filter",height:20,top:35,fillerColor:"rgba(233, 236, 241, 0.4)"}],series:[{type:"bar"}]};const n=Object.keys(e);let a=[],u=[];for(let o=0;o<n.length;o++)a.push(e[n[o]].name),u.push(e[n[o]].score);return t.xAxis.data=a,t.series[0].data=u,t}function z(l,e,t){const n=Object.keys(l);let a=[],u=10;for(let o=0;o<(n.length>=u?u:n.length);o++){let i=l[n[o]].solves,d=M(e[o].members);for(let s=0;s<i.length;s++){let m=i[s].date;i[s].team_name=l[n[o]].name,i[s].user_name=d[i[s].user_id],i[s].challenge_name=t[i[s].challenge_id],i[s].time=_(m);for(let r=a.length;r>0;r--)if(f(m)>f(a[r-1].date)){let c=a[r-1];a[r-1]=i[s],r<u&&(a[r]=c)}else if(a.length<u&&a.length==r){a.push(i[s]);break}else break;a.length==0&&a.push(i[s])}}return a}function _(l){let e=f()-f(l);return e/(1e3*60*60*24)>=2?"il y a "+Math.floor(e/(1e3*60*60*24))+" jours":e/(1e3*60*60)>=2?"il y a "+Math.floor(e/(1e3*60*60))+" heures":e/(1e3*60)>=2?"il y a "+Math.floor(e/(1e3*60))+" minutes":"il y a moin de 2 minutes"}function M(l){let e={};for(let t=0;t<l.length;t++)e[l[t].id]=l[t].name;return e}g([h,p,x,y,b,$,v,A,j,k,I,L]);function Z(l,e){let t=T(l);t.setOption(e),window.addEventListener("resize",()=>{t&&t.resize()})}export{z as a,U as c,Z as e,w as g};
