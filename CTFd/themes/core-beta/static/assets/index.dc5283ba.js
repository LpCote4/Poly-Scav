import{d as m}from"./index.5095421b.js";import{u as x,i as y,a as p,b,c as _,d as k,e as v,f as $,g as A,h as S,j,k as w,l as D,m as I}from"./echarts.54e741c1.js";function U(s){let l=s.concat();for(let a=0;a<s.length;a++)l[a]=s.slice(0,a+1).reduce(function(o,e){return o+e});return l}function z(s,l){let a={title:{left:"center",text:(s==="teams"?"Teams":"Users")+" Score"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{type:"scroll",orient:"horizontal",align:"left",bottom:35,data:[]},toolbox:{feature:{dataZoom:{yAxisIndex:"none"},saveAsImage:{}}},grid:{containLabel:!0},xAxis:[{type:"category"},{type:"category"}],yAxis:{type:"value"},series:[{xAxisIndex:0,type:"bar",showBackground:!1,itemStyle:{color:"#FDFD96"}},{xAxisIndex:1,type:"bar",showBackground:!1}]};const o=Object.keys(l);console.log("teams"),console.log(l);let e=[],f=[],u=[];for(let n=0;n<o.length;n++)e.push(l[o[n]].name),f.push(l[o[n]].score),u.push(l[o[n]].score+l[o[n]].potential_score);return a.xAxis[0].data=e,a.xAxis[1].data=e,a.series[0].data=u,a.series[1].data=f,a}function B(s,l,a){const o=Object.keys(s);let e=[],f=999;for(let u=0;u<(o.length>=f?f:o.length);u++){let n=s[o[u]].solves,r=s[o[u]].fails,d=L(l[u].members);for(let t=0;t<n.length;t++){let g=n[t].date;n[t].team_name=s[o[u]].name,n[t].user_name=d[n[t].user_id],n[t].challenge_name=a[n[t].challenge_id],n[t].time=c(g);for(let i=e.length;i>0;i--)if(m(g)>m(e[i-1].date)){let h=e[i-1];e[i-1]=n[t],i<f&&(e[i]=h)}else if(e.length<f&&e.length==i){e.push(n[t]);break}else break;e.length==0&&e.push(n[t])}for(let t=0;t<r.length;t++)if(r[t].type=="manual"){let g=r[t].date;r[t].team_name=s[o[u]].name,r[t].user_name=d[r[t].user_id],r[t].challenge_name=a[r[t].challenge_id],r[t].time=c(g);for(let i=e.length;i>0;i--)if(m(g)>m(e[i-1].date)){let h=e[i-1];e[i-1]=r[t],i<f&&(e[i]=h)}else if(e.length<f&&e.length==i){e.push(r[t]);break}else break;e.length==0&&e.push(r[t])}}return e}function c(s){let l=m()-m(s);return l/(1e3*60*60*24)>=2?"il y a "+Math.floor(l/(1e3*60*60*24))+" jours":l/(1e3*60*60)>=2?"il y a "+Math.floor(l/(1e3*60*60))+" heures":l/(1e3*60)>=2?"il y a "+Math.floor(l/(1e3*60))+" minutes":"il y a moin de 2 minutes"}function L(s){let l={};for(let a=0;a<s.length;a++)l[s[a].id]=s[a].name;return l}x([y,p,b,_,k,v,$,A,S,j,w,D]);function M(s,l){let a=I(s);a.setOption(l),window.addEventListener("resize",()=>{a&&a.resize()})}export{B as a,U as c,M as e,z as g};
